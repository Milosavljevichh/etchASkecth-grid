<!DOCTYPE html>
<head>

    <title>Etch-A-Sketch</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="script.js"  defer></script>

</head>
<body>

    
      <div class="main-container">
        <div class="options">
            <div class="colorContainer">
                <div class="colorMiniContainer">
                    <label class="ColorLabel">Canvas color</label>
                    <input type="color" id="pickedCanvasColor" name="pickedCanvasColor" value="#ffffff">
                </div>
                <div class="colorMiniContainer">
                    <label class="ColorLabel">Brush color</label>
                    <input type="color" id="pickedColor" name="pickedColor" value="#9DC08B">
                </div>
            </div>
            <div class="slidecontainer">
                <input type="range" min="1" max="50" value="8" class="slider" id="myRange" oninput="fireCanvasGeneration()">
            </div>
            <div class="button-container">
                
            <div class="toggle">
                <input type="checkbox" id="toggleGrid" name="toggleGrid" class="cyberpunk-checkbox" onclick="{toggleGrid()}">
                <label for="toggleGrid" class="cyberpunk-checkbox-label"> TOGGLE GRID</label><br>
            </div>

            <button id="reset-canvas" class="learn-more" onclick="resetCanvas()"> 
                Reset canvas
            </button>
            <button id="exportImage" class="learn-more" onclick="exportImage()"> 
                Export image
            </button>
        </div>
        </div>
        <div id="container">
            <p>This is a small project made for <i><a href="https://www.theodinproject.com/about">"The Odin Project"</a></i>. It's not optimized for mobile or tablet.
            Feel free to check out my <i><a href="https://github.com/Milosavljevichh">Github</a></i> and my <i><a href="https://milosavljevich.itch.io/">Itch.io</a></i>.</p>
            <div class="exportingContainer">
                <div id="canvas"> </div>
            </div>
        </div>
    </div>
    
    <!-- Downloading canvas as image -->
    <script src="html2canvas.min.js"></script>
    <script >
        document.querySelector('#exportImage').onclick = function() {
            const scTarget = document.querySelector('#canvas');

            html2canvas(scTarget).then((canvas) => {
                const base64image = canvas.toDataURL("image/png");
                var anchor = document.createElement('a');
                anchor.setAttribute("href", base64image);
                anchor.setAttribute("download", "drawing.png");
                anchor.click();
                anchor.remove();
            });
        };
    </script>

</body>